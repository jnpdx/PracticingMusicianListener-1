<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Practicing Musician</title>

    <link rel="stylesheet" type="text/css" href="pm-listener/sass/notation.scss">

    <script src="pm-listener/js/local_copies/jquery.js"></script>
    <script src="pm-listener/js/local_copies/vexflow.js"></script>


    <script type="text/javascript" src="pm-listener/js/logger.js"></script>

    <script type="text/javascript" src="../out/production/PracticingMusician/lib/kotlin.js"></script>
    <script type="text/javascript" src="../out/production/PracticingMusician/PracticingMusician.js"></script>

    <script src="pm-listener/js/audio.js"></script>

    <script src="pm-listener/js/easyscore_util.js"></script>

    <script src="pm-listener/js/index.js"></script>

    <script src="pm-listener/js/jsMusicXMLConverter.js"></script>



    <style>
      /* override CSS for the SASS code */
div.feedbackItem.incorrect_note {
    background-image: url("pm-listener/images/incorrect-note.png");
}

div.feedbackItem.off_note {
    background-image: url("pm-listener/images/off-note-icon.png");
}

div#notationPmLogo {
  background-image: url("pm-listener/images/logo.png")
}

span#playPauseButton {
    background-image: url("pm-listener/images/play-arrow-icon.svg");
}

span#printButton {
    background-image: url("pm-listener/images/print-icon.svg");
}

input#metronomeAudioButton + label {
    background-image: url("pm-listener/images/volume-off-icon.svg");
}

    </style>

</head>
<body>

<a href="javascript:listenerApp.toggleState()">Start</a>


<div id="notationWindow">
    <div id="notationHeader">

      	<span id="medalIndicator"></span>
        <span id="playPauseButton" onclick="listenerApp.toggleState()"></span>
	      <span id="metronomeAudioButtonContainer">
          <input type="checkbox" id="metronomeAudioButton" /><label for="metronomeAudioButton"></label>
        </span>


        <div id="controlsContainer">


	        <div id="listenerControls">
            <div id="metronomeAndSlider">
              <div id="metronomeContainer">
              </div>
            <div id="sliderContainer">
              <input class="slider" id="metronomeSlider" type="range" min="0" max="100" value="0" />
              <div id="sliderNumbers">
                <span class="sliderNumber" id="sliderNumber40">40</span>
                <span class="sliderNumber" id="sliderNumber60">60</span>
                <span class="sliderNumber" id="sliderNumber80">80</span>
                <span class="sliderNumber" id="sliderNumber100">100</span>
                <span class="sliderNumber" id="sliderNumber120">120</span>
                <span class="sliderNumber" id="sliderNumber140">140</span>
                <span class="sliderNumber" id="sliderNumber160">160</span>
                <span class="sliderNumber" id="sliderNumber180">180</span>
                <span class="sliderNumber" id="sliderNumber200">200</span>
              </div>
            </div>
            </div>

	          <input id="tempoMarking" type="text"></input>
            <span id="tempoMarkingMeta">BPM</span>
          </div>
        </div>

        <span id="printButton"></span>

    </div>
    <div id="notationBody">
        <!-- this gets filled dynamically -->
    </div>
</div>
<script type="text/javascript">
    window.onload = function() {
        listenerApp.runApp({
            url: "",
            xmlUrl: "pm-listener/xml/BassClefRests.xml",
            audioAssetPath: "pm-listener/audio/",

            metronomeSound: false,

            controlsContainerName : "listenerControls",
            notationContainerName : "notationBody",
            metronomeContainerName : "metronomeContainer",

            userID: 1234,
            exerciseID: 1235,

            databaseEndpoint: "db",

            allowableCentsMargin : 40,
            allowableRhythmMargin : 0.33,
            allowableDurationRatio : 0.35,

            largestBeatDifference: 1.0,
            largestDurationRatioDifference: 0.2,
            minDurationInBeats: 0.1,

            displaySiteDialog: function(params) {
              alert(
                "Image: " + params.imageType + "\n" +
                "Title: " + params.title + "\n" +
                 "Message: " + params.message
              );
            },
        })
    }
</script>


</body>
</html>
